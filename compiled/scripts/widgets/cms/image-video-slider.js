require(["modules/jquery-mozu","underscore","modules/api","modules/backbone-mozu","vendor/jquery-bxslider/jquery.bxslider.min","shim!vendor/jquery/jquery.fitvids[jquery=jQuery]","//www.youtube.com/iframe_api","vendor/jquery/owl.carousel.min","vendor/jquery/lazysizes-custom.min"],function(e,i,o,n){function t(){d.mute(),d.setVolume(0),e(".escolta").on("click",function(){d.playVideo()}),e(".pausa").on("click",function(){d.stopVideo()})}function l(){c.mute(),c.setVolume(0),e(".escolta").on("click",function(){c.playVideo()}),e(".pausa").on("click",function(){c.stopVideo()})}function s(){u.mute(),u.setVolume(0),e(".escolta").on("click",function(){u.playVideo()}),e(".pausa").on("click",function(){u.stopVideo()})}var a=null,r=(e("[data-image-video-config]").data("image-video-config"),n.View.extend({el:e("#mz-drop-zone-ImageVideoSlider"),events:{},initialize:function(){this.render()},sliderFunction:function(){var i=e(".slider-duration").text();a=e(".bxslider").bxSlider({video:!0,useCSS:!1,auto:!0,nextSelector:".next",prevSelector:".prev",nextText:"",prevText:"",touchEnabled:!0,pause:i,pager:!1,onSliderLoad:function(i){e(".bxslider .slider-items:not([class='bx-clone'])").eq(i+1).addClass("active-slide"),e(".slider-items").find("iframe").removeClass("video");var o=e(".slider-items.active-slide:not([class='bx-clone'])").find("iframe");if(e(o).addClass("video"),e(o).length>0){var n=e(o).prop("src"),t=n.replace("&autoplay=1","");t+="&autoplay=1",e(o)[0].src=t}else e(".pausa").click()},onSlideBefore:function(i){e(".active-slide").removeClass("active-slide"),i=a.getCurrentSlide(),e(".bxslider .slider-items:not([class='bx-clone'])").eq(i+1).addClass("active-slide"),e(".slider-items").find("iframe").removeClass("video");var o=e(".slider-items.active-slide:not([class='bx-clone'])").find("iframe");if(e(o).addClass("video"),e(o).length>0){var n=e(o).prop("src"),t=n.replace("&autoplay=1","");t+="&autoplay=1",e(o)[0].src=t}else e(".pausa").click()}})},render:function(){this.sliderFunction()}})),d=null,c=null,u=null;e(".video").get(0)&&(d=new YT.Player(e(".video").get(0),{events:{onReady:t}})),e(".video").get(1)&&(c=new YT.Player(e(".video").get(1),{events:{onReady:l}})),e(".video").get(2)&&(u=new YT.Player(e(".video").get(2),{events:{onReady:s}})),e(document).ready(function(){new r;e(".image-height").fitVids({customSelector:"iframe"}),e(".next").click(function(){return a.goToNextSlide(),!1}),e(".prev").click(function(){return a.goToPrevSlide(),!1})})});