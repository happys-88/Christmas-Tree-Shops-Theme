define(["modules/jquery-mozu","modules/api","modules/backbone-mozu","modules/models-product","modules/general-functions","modules/api","slick"],function(e,t,a,i,o,n){function r(e){e.slick({infinite:!1,slidesToShow:4,prevArrow:'<i class="fa fa-angle-left" aria-hidden="true"></i>',nextArrow:'<i class="fa fa-angle-right" aria-hidden="true"></i>',responsive:[{breakpoint:992,settings:{arrows:!0,slidesToShow:3}},{breakpoint:768,settings:{arrows:!0,slidesToShow:1}}]})}var d=a.MozuModel.extend(),s=a.MozuView.extend({templateName:"Widgets/misc/category-carousel-listing",initialize:function(){var e=this;e.listenTo(e.model,"change",e.render)},render:function(e){a.MozuView.prototype.render.apply(this),e.find(".cc-loading").hide(),r(e.find(".slick-cont"))}});e(".category-container").each(function(){var t=e(this),a=10;if(t.data("category")&&""!==t.data("category")){t.find(".cc-loading").show();var i=t.data("category");t.data("totalcount")&&""!==t.data("totalcount")&&"0"!==t.data("totalcount")&&(a=t.data("totalcount"));var o="CategoryId ";o+=t.data("child")&&""!==t.data("child")?"req ":"eq ",o+=i,function(e){n.get("search",{filter:o,pageSize:a,includeFacets:!1,pageWithUrl:!1,sortWithUrl:!1,startIndex:0,query:""}).then(function(t){if(t.data.items.length){var a=new s({el:e.find(".slick-cont"),model:new d({items:t.data.items})});a.render(e)}else e.hide()})}(t)}})});